# Theme Switcher App - Dark/Light Mode

This example demonstrates **runtime theme switching** using Jounce's style system combined with reactive state management.

## Features Demonstrated

### 1. Multiple Theme Definitions
- **LightMode**: Light colors, subtle shadows
- **DarkMode**: Dark colors, higher contrast
- Both themes define the same property names for consistency

### 2. Theme-Aware Components
All components reference theme variables:
```jounce
style AppContainer {
    background: theme.LightMode.bg;
    color: theme.LightMode.text;
}
```

Compiles to:
```css
.AppContainer_<hash> {
    background: var(--LightMode-bg);
    color: var(--LightMode-text);
}
```

### 3. Runtime Theme Switching
Uses Jounce **reactivity system** (Phase 12) for state management:
```jounce
let isDark = signal<bool>(false);

let containerClass = computed<string>(() => {
    if isDark.value {
        "AppContainer dark-mode"
    } else {
        "AppContainer"
    }
});
```

### 4. Smooth Transitions
CSS transitions on theme-dependent properties:
```jounce
style Card {
    background: theme.LightMode.cardBg;
    transition: all 0.3s ease;  // ‚Üê Smooth theme changes
}
```

## Running the Example

```bash
cd examples/theme-switcher
jnc compile main.jnc

# Or from project root
cargo run -- compile examples/theme-switcher/main.jnc
```

## Implementation Strategy

### Step 1: Define Both Themes
```jounce
theme LightMode {
    bg: #ffffff;
    text: #1f2937;
    primary: #3b82f6;
}

theme DarkMode {
    bg: #1f2937;
    text: #f9fafb;
    primary: #60a5fa;
}
```

### Step 2: Reference One Theme in Styles
Components reference **LightMode** by default:
```jounce
style AppContainer {
    background: theme.LightMode.bg;
    color: theme.LightMode.text;
}
```

### Step 3: Switch Themes with JavaScript
In your HTML/JS, swap CSS custom properties:
```javascript
function switchToDarkMode() {
    document.documentElement.style.setProperty(
        '--LightMode-bg',
        getComputedStyle(document.documentElement).getPropertyValue('--DarkMode-bg')
    );
    // Repeat for all theme properties
}
```

Or use CSS classes:
```css
/* Generated by Jounce */
:root {
    --LightMode-bg: #ffffff;
    --DarkMode-bg: #1f2937;
}

/* Add this manually or via JS */
:root.dark-theme {
    --LightMode-bg: var(--DarkMode-bg);
    --LightMode-text: var(--DarkMode-text);
}
```

## Generated CSS Output

```css
:root {
  --LightMode-bg: #ffffff;
  --LightMode-text: #1f2937;
  --LightMode-primary: #3b82f6;

  --DarkMode-bg: #1f2937;
  --DarkMode-text: #f9fafb;
  --DarkMode-primary: #60a5fa;
}

.AppContainer_a1b2c3 {
  min-height: 100vh;
  background: var(--LightMode-bg);
  color: var(--LightMode-text);
  transition: all 0.3s ease;
}

.Card_d4e5f6 {
  background: var(--LightMode-cardBg);
  border: 1px solid var(--LightMode-cardBorder);
  transition: all 0.3s ease;
}

/* ... more styles */
```

## Usage in HTML

```html
<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="dist/styles.css">
    <style>
        /* Add dark theme overrides */
        :root.dark-theme {
            --LightMode-bg: var(--DarkMode-bg);
            --LightMode-text: var(--DarkMode-text);
            --LightMode-cardBg: var(--DarkMode-cardBg);
            --LightMode-cardBorder: var(--DarkMode-cardBorder);
            --LightMode-primary: var(--DarkMode-primary);
            --LightMode-primaryHover: var(--DarkMode-primaryHover);
            --LightMode-shadow: var(--DarkMode-shadow);
        }
    </style>
    <script src="dist/client.js"></script>
</head>
<body>
    <div class="AppContainer_a1b2c3" id="app">
        <div class="Card_d4e5f6">
            <h1 class="Title_e7f8g9">Theme Switcher</h1>
            <p class="Description_h0i1j2">
                Click the button below to switch between light and dark themes.
            </p>
            <button class="ThemeButton_k3l4m5" onclick="toggleTheme()">
                üåô Toggle Dark Mode
            </button>
        </div>
    </div>

    <script>
        function toggleTheme() {
            document.documentElement.classList.toggle('dark-theme');
        }
    </script>
</body>
</html>
```

## Key Concepts

### Why Two Themes?
Defining both `LightMode` and `DarkMode` allows:
1. **Design-time**: All theme values visible in source code
2. **Runtime**: Easy theme switching via CSS custom properties
3. **Type safety**: Both themes have same property structure

### CSS Custom Properties = Runtime Theming
CSS variables can be changed at runtime without recompilation:
```javascript
// Change theme instantly
document.documentElement.style.setProperty('--LightMode-bg', '#1f2937');
```

This is the **magic** of Jounce's theme system!

### Smooth Transitions
Add `transition` properties to enable smooth theme changes:
```jounce
style Card {
    background: theme.LightMode.cardBg;
    transition: all 0.3s ease;  // ‚Üê Animated theme switch
}
```

## Next Steps

- Implement JavaScript theme toggle in HTML
- Add more theme properties (font sizes, spacing)
- Try system preference detection: `prefers-color-scheme`
- Store theme preference in `localStorage`
- See **styled-todo-app** for a complete application with theming

## Related Examples

- **styled-button**: Basic style system features
- **styled-todo-app**: Complete application with themes
